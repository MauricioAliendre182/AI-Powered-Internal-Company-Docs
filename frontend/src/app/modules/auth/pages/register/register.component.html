<app-auth-layout
  title="Create Account"
  subtitle="Join our platform to get started">

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
    <!-- Name Fields -->
    <div class="name-fields">
      <app-auth-form-field
        [label]="'First Name'"
        [type]="'text'"
        [icon]="'user'"
        [placeholder]="'First name'"
        [required]="true"
        formControlName="firstName"
        [errorMessage]="getFieldError('firstName')">
      </app-auth-form-field>

      <app-auth-form-field
        [label]="'Last Name'"
        [type]="'text'"
        [icon]="'user'"
        [placeholder]="'Last name'"
        [required]="true"
        formControlName="lastName"
        [errorMessage]="getFieldError('lastName')">
      </app-auth-form-field>
    </div>

    <!-- Email Field -->
    <app-auth-form-field
      [label]="'Email Address'"
      [type]="'email'"
      [icon]="'envelope'"
      [placeholder]="'Enter your email'"
      [required]="true"
      formControlName="email"
      [errorMessage]="getFieldError('email')">
    </app-auth-form-field>

    <!-- Password Field -->
    <app-auth-form-field
      [label]="'Password'"
      [type]="'password'"
      [icon]="'lock'"
      [placeholder]="'Create a strong password'"
      [required]="true"
      formControlName="password"
      [errorMessage]="getFieldError('password')">
    </app-auth-form-field>

    <!-- Confirm Password Field -->
    <app-auth-form-field
      [label]="'Confirm Password'"
      [type]="'password'"
      [icon]="'lock'"
      [placeholder]="'Confirm your password'"
      [required]="true"
      formControlName="confirmPassword"
      [errorMessage]="getFieldError('confirmPassword')">
    </app-auth-form-field>

    <!-- Terms Agreement -->
    <div class="terms-agreement">
      <label class="terms-label">
        <input
          type="checkbox"
          formControlName="agreeToTerms"
          class="checkbox-input">
        <span class="checkbox-text">
          I agree to the
          <a href="#" class="terms-link">Terms of Service</a>
          and
          <a href="#" class="terms-link">Privacy Policy</a>
        </span>
      </label>
      @if (hasFieldError('agreeToTerms') && status === 'failed') {
        <div class="error-message">
          <i class="fas fa-exclamation-circle"></i>
          {{ getFieldError('agreeToTerms') }}
        </div>
      }
    </div>

    <!-- Submit Button -->
    <app-auth-button
      [type]="'submit'"
      [text]="'Create Account'"
      [icon]="'user-plus'"
      [variant]="'primary'"
      [size]="'lg'"
      [fullWidth]="true"
      [loading]="isLoading"
      [disabled]="registerForm.invalid">
    </app-auth-button>

    <!-- Sign In Link -->
    <div class="auth-links">
      <p class="signin-text">
        Already have an account?
        <a routerLink="/login" class="signin-link">Sign in here</a>
      </p>
    </div>
  </form>
</app-auth-layout>
